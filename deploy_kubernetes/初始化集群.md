# 配置host映射
```
cat <<EOF >/etc/hosts
127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4
::1         localhost localhost.localdomain localhost6 localhost6.localdomain6
192.168.1.50   kubernetes.zkuan.com
192.168.1.51   keepalive
192.168.1.52   a
192.168.1.53   b
192.168.1.54   c
192.168.1.55   d
EOF
```

---

# 初始化集群

```
kubeadm init --image-repository registry.aliyuncs.com/google_containers \
--upload-certs \
--token-ttl=0  \
--pod-network-cidr=172.16.0.0/24 \
--pod-network-cidr=192.168.0.0/16 \
--control-plane-endpoint "kubernetes.zkuan.com:6443" 
```


# 网络插件
```
https://docs.projectcalico.org/about/about-calico

kubectl create -f https://docs.projectcalico.org/manifests/tigera-operator.yaml
kubectl create -f https://docs.projectcalico.org/manifests/custom-resources.yaml
```

# 网络插件；查看pods 状态
```
kubectl apply -f "https://cloud.weave.works/k8s/scope.yaml?k8s-version=$(kubectl version | base64 | tr -d '\n')"
```